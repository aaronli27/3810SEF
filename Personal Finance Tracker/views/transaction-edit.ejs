<html>
<body>
    <h1>Edit Transaction</h1>
    <p><a href="/transactions/details?_id=<%= transaction._id %>">Back to Details</a></p>
    
    <form method="POST" action="/transactions/update">
        Title: <input name="title" value="<%= transaction.title %>" required><br>
        Amount: <input type="number" step="0.01" name="amount" value="<%= transaction.amount %>" required><br>
        Type: 
        <select name="type" required>
            <option value="Income" <%= transaction.type === 'Income' ? 'selected' : '' %>>Income</option>
            <option value="Expense" <%= transaction.type === 'Expense' ? 'selected' : '' %>>Expense</option>
        </select><br>
        Category: 
        <select name="category" required>
            <option value="Salary" <%= transaction.category === 'Salary' ? 'selected' : '' %>>Salary</option>
            <option value="Food" <%= transaction.category === 'Food' ? 'selected' : '' %>>Food</option>
            <option value="Transport" <%= transaction.category === 'Transport' ? 'selected' : '' %>>Transport</option>
            <option value="Entertainment" <%= transaction.category === 'Entertainment' ? 'selected' : '' %>>Entertainment</option>
        </select><br>
        Date: <input type="date" name="date" value="<%= transaction.date.toISOString().split('T')[0] %>" required><br>
        Payment Method:
        <select name="paymentMethod" required>
            <option value="Cash" <%= transaction.paymentMethod === 'Cash' ? 'selected' : '' %>>Cash</option>
            <option value="Card" <%= transaction.paymentMethod === 'Card' ? 'selected' : '' %>>Card</option>
            <option value="Bank Transfer" <%= transaction.paymentMethod === 'Bank Transfer' ? 'selected' : '' %>>Bank Transfer</option>
        </select><br>
        Description: <textarea name="description"><%= transaction.description || '' %></textarea><br>
        <input type="hidden" name="_id" value="<%= transaction._id %>">
        <button>Update</button>
    </form>
</body>
</html>